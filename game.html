<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Game TÃ¬nh YÃªu ğŸ’˜</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .game-container {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .heart-game {
            font-size: 80px;
            cursor: pointer;
            transition: all 0.2s;
            animation: heartbeat 1.5s infinite;
            margin: 20px 0;
        }
        .heart-game:active {
            transform: scale(1.3);
        }
        .score-display {
            font-size: 2.5em;
            color: #ff4757;
            font-weight: bold;
            margin: 20px 0;
        }
        .timer-display {
            font-size: 1.5em;
            color: #3742fa;
            margin: 10px 0;
        }
        .game-message {
            font-size: 1.3em;
            margin: 15px 0;
            min-height: 40px;
            font-weight: bold;
        }
        .game-btn {
            font-size: 1.2em;
            padding: 12px 30px;
            margin: 10px;
        }
        .level-indicator {
            background: linear-gradient(45deg, #ff9ff3, #f368e0);
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            display: inline-block;
            margin: 10px;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1.15); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ’˜ Game Thá»­ ThÃ¡ch TÃ¬nh YÃªu ğŸ’˜</h1>
        <p>Click tháº­t nhanh vÃ o trÃ¡i tim Ä‘á»ƒ thá»ƒ hiá»‡n tÃ¬nh yÃªu cá»§a báº¡n!</p>
        
        <div class="level-indicator" id="levelInfo">Cáº¥p Ä‘á»™: â¤ï¸ Má»›i báº¯t Ä‘áº§u</div>
        <div class="timer-display">â° Thá»i gian: <span id="timer">30</span>s</div>
        <div class="score-display">ğŸ’ Äiá»ƒm: <span id="score">0</span></div>
        
        <div class="heart-game" id="heart" onclick="clickHeart()">ğŸ’–</div>
        
        <div class="game-message" id="message">Chuáº©n bá»‹ sáºµn sÃ ng...!</div>
        
        <button class="game-btn" id="startBtn" onclick="startGame()">ğŸ® Báº¯t Äáº§u Game</button>
        <button class="game-btn" id="restartBtn" onclick="restartGame()" style="display:none;">ğŸ” ChÆ¡i Láº¡i</button>
        
        <div class="game-stats" style="margin-top: 30px;">
            <div>ğŸ† Äiá»ƒm cao nháº¥t: <span id="highScore">0</span></div>
            <div>âš¡ Tá»‘c Ä‘á»™: <span id="speed">0</span> click/phÃºt</div>
        </div>

        <div style="margin-top: 40px;">
            <a href="/" class="btn">ğŸ  Vá» Trang ChÃ­nh</a>
            <a href="/admin" class="btn">ğŸ” Trang Admin</a>
        </div>
    </div>

    <script>
        let score = 0;
        let timeLeft = 30;
        let timer;
        let gameActive = false;
        let highScore = localStorage.getItem('loveGameHighScore') || 0;
        let startTime;
        let clickCount = 0;

        // Cáº¥p Ä‘á»™ vÃ  thÃ´ng bÃ¡o
        const levels = [
            { score: 0, name: "â¤ï¸ Má»›i báº¯t Ä‘áº§u", message: "HÃ£y báº¯t Ä‘áº§u thá»ƒ hiá»‡n tÃ¬nh yÃªu!" },
            { score: 10, name: "ğŸ’– CÃ³ cáº£m tÃ¬nh", message: "TÃ¬nh yÃªu Ä‘ang lá»›n dáº§n!" },
            { score: 25, name: "ğŸ’˜ Äang yÃªu", message: "YÃªu nhau say Ä‘áº¯m quÃ¡!" },
            { score: 50, name: "ğŸ’• YÃªu nhiá»u", message: "TÃ¬nh yÃªu ngáº­p trÃ n!" },
            { score: 75, name: "ğŸ’ YÃªu Ä‘iÃªn cuá»“ng", message: "YÃªu khÃ´ng thá»ƒ kiá»ƒm soÃ¡t!" },
            { score: 100, name: "ğŸ’“ YÃªu vÃ´ Ä‘á»‘i", message: "TÃ¬nh yÃªu cá»§a báº¡n tháº­t tuyá»‡t vá»i!" }
        ];

        document.getElementById('highScore').textContent = highScore;

        function startGame() {
            if (gameActive) return;
            
            score = 0;
            timeLeft = 30;
            gameActive = true;
            clickCount = 0;
            startTime = Date.now();
            
            document.getElementById('score').textContent = score;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('restartBtn').style.display = 'none';
            document.getElementById('message').textContent = "Click tháº­t nhanh nÃ o! ğŸ’•";
            document.getElementById('message').style.color = "#ff4757";
            
            updateLevel();
            
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                // Äá»•i mÃ u timer khi sáº¯p háº¿t giá»
                if (timeLeft <= 10) {
                    document.getElementById('timer').style.color = "#ff4757";
                }
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function clickHeart() {
            if (!gameActive) {
                document.getElementById('message').textContent = 'ğŸ® HÃ£y báº¥m "Báº¯t Äáº§u Game"!';
                return;
            }
            
            score++;
            clickCount++;
            document.getElementById('score').textContent = score;
            
            // Hiá»‡u á»©ng
            const heart = document.getElementById('heart');
            heart.classList.add('pulse');
            setTimeout(() => heart.classList.remove('pulse'), 500);
            
            // TÃ­nh tá»‘c Ä‘á»™
            const currentTime = Date.now();
            const elapsedTime = (currentTime - startTime) / 1000; // giÃ¢y
            const clicksPerMinute = Math.round((clickCount / elapsedTime) * 60);
            document.getElementById('speed').textContent = clicksPerMinute;
            
            updateLevel();
        }

        function updateLevel() {
            let currentLevel = levels[0];
            for (let level of levels) {
                if (score >= level.score) {
                    currentLevel = level;
                }
            }
            
            document.getElementById('levelInfo').textContent = `Cáº¥p Ä‘á»™: ${currentLevel.name}`;
            
            // Hiá»ƒn thá»‹ thÃ´ng bÃ¡o Ä‘áº·c biá»‡t á»Ÿ má»™t sá»‘ má»‘c
            if ([10, 25, 50, 75, 100].includes(score)) {
                document.getElementById('message').textContent = currentLevel.message;
            }
        }

        function endGame() {
            clearInterval(timer);
            gameActive = false;
            
            // Cáº­p nháº­t Ä‘iá»ƒm cao
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('loveGameHighScore', highScore);
                document.getElementById('highScore').textContent = highScore;
            }
            
            // ThÃ´ng bÃ¡o káº¿t quáº£
            let message = "";
            if (score < 10) {
                message = "ğŸ’” Cá»‘ gáº¯ng hÆ¡n nhÃ©! TÃ¬nh yÃªu cáº§n nhiá»u ná»— lá»±c!";
            } else if (score < 30) {
                message = "ğŸ’– KhÃ¡ láº¯m! TÃ¬nh yÃªu cá»§a báº¡n Ä‘ang phÃ¡t triá»ƒn!";
            } else if (score < 60) {
                message = "ğŸ’˜ Tuyá»‡t vá»i! Báº¡n yÃªu tháº­t chÃ¢n thÃ nh!";
            } else {
                message = "ğŸ’• Xuáº¥t sáº¯c! TÃ¬nh yÃªu cá»§a báº¡n tháº­t mÃ£nh liá»‡t!";
            }
            
            document.getElementById('message').textContent = 
                `Game káº¿t thÃºc! ${message} Äiá»ƒm: ${score}`;
            document.getElementById('restartBtn').style.display = 'inline-block';
            document.getElementById('timer').style.color = "#3742fa";
        }

        function restartGame() {
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('restartBtn').style.display = 'none';
            document.getElementById('message').textContent = "Sáºµn sÃ ng cho láº§n chÆ¡i má»›i?";
            document.getElementById('timer').textContent = "30";
            document.getElementById('score').textContent = "0";
            document.getElementById('speed').textContent = "0";
            document.getElementById('timer').style.color = "#3742fa";
        }

        // Hiá»‡u á»©ng khi di chuá»™t vÃ o trÃ¡i tim
        document.getElementById('heart').addEventListener('mouseover', function() {
            if (gameActive) {
                this.style.cursor = 'pointer';
                this.style.transform = 'scale(1.2)';
            }
        });

        document.getElementById('heart').addEventListener('mouseout', function() {
            this.style.transform = 'scale(1)';
        });
    </script>
</body>
</html>
